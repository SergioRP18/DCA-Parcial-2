(()=>{"use strict";class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){return t=this,e=void 0,o=function*(){this.render()},new((n=void 0)||(n=Promise))((function(i,s){function r(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,c)}a((o=o.apply(t,e||[])).next())}));var t,e,n,o}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n                <h1>Mis Productos</h1>\n                <div class="content">\n                    <form>\n                        <input type="text" id="add" placeholder="AÃ±ade el ID de un producto" required>\n                        <button type="submit" id="addButton">Add Product</button>\n                    </form>\n                </div>\n            ')}}customElements.define("product-form",t);var e,n,o;(n=e||(e={})).ADD_PRODUCT="ADD_PRODUCT",n.GET_PRODUCT="GET_PRODUCT",n.REMOVE_PRODUCT="REMOVE_PRODUCT",function(t){t.STORE="STORE"}(o||(o={}));let i=(({key:t,defaultValue:e})=>{const n=localStorage.getItem(t)||sessionStorage.getItem(t);return n?JSON.parse(n):e})({key:o.STORE,defaultValue:{products:[]}}),s=[];const r=t=>{const n=((t,n)=>{const{action:o,payload:i}=t;switch(o){case e.ADD_PRODUCT:return Object.assign(Object.assign({},n),{products:[...n.products,i]});case e.REMOVE_PRODUCT:return Object.assign(Object.assign({},n),{products:[n.products.filter((t=>t.id!==i))]});default:return n}})(t,JSON.parse(JSON.stringify(i)));var r;i=n,r=n,(({key:t,value:e,session:n=!1})=>{const o=n?sessionStorage:localStorage,i=JSON.stringify(e);o.setItem(t,i)})({key:o.STORE,value:r}),s.forEach((t=>t.render()))};var c;!function(t){t.uid="uid",t.name="name",t.price="price",t.category="category",t.description="description",t.image="image"}(c||(c={}));class a extends HTMLElement{static get observedAttributes(){return Object.keys(c)}attributeChangedCallback(t,e,n){switch(t){case c.price:this.price=n?Number(n):void 0;break;case c.uid:this.uid=n?Number(n):void 0;break;default:this[t]=n}this.render()}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){return t=this,e=void 0,o=function*(){this.render()},new((n=void 0)||(n=Promise))((function(i,s){function r(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,c)}a((o=o.apply(t,e||[])).next())}));var t,e,n,o}render(){var t;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n                <section>\n                    <div class="container">\n                        <div class="card">\n                            <img src="${this.image}" alt="">\n                            <h1>${this.name}</h1>\n                            <p>${this.description}</p>\n                            <h3>${this.category}</h3>\n                            <span>${this.price}</span>\n                            <button id="delete">Eliminar</button>\n                            <button id="edit">Editar</button>\n                        </div>\n                    </div>\n                </section>\n        `);const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".delete");null==n||n.addEventListener("click",(()=>{var t;r((t=this.uid,{action:e.REMOVE_PRODUCT,payload:t}))}))}}customElements.define("product-item",a);class d extends HTMLElement{constructor(){super(),this.ProductosItems=[],this.attachShadow({mode:"open"}),i.products.forEach((t=>{const e=this.ownerDocument.createElement("product-item");e.setAttribute(c.image,String(t.image)),e.setAttribute(c.name,t.name),e.setAttribute(c.description,t.description),e.setAttribute(c.category,t.category),e.setAttribute(c.price,String(t.price)),this.ProductosItems.push(e)}))}connectedCallback(){this.render()}render(){this.shadowRoot&&this.ProductosItems.forEach((t=>{var e;null===(e=this.shadowRoot)||void 0===e||e.appendChild(t)}))}}customElements.define("task-list",d);console.log("holaa");class u extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),s=[...s,this]}connectedCallback(){return t=this,e=void 0,o=function*(){const t=yield(e=void 0,n=void 0,o=void 0,i=function*(){try{const t=yield fetch("https://fakestoreapi.com/products").then((t=>t.json()));return console.log(t),t}catch(t){console.log("error",t)}},new(o||(o=Promise))((function(t,s){function r(t){try{a(i.next(t))}catch(t){s(t)}}function c(t){try{a(i.throw(t))}catch(t){s(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(r,c)}a((i=i.apply(e,n||[])).next())})));var e,n,o,i;r(t),this.render()},new((n=void 0)||(n=Promise))((function(i,s){function r(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,c)}a((o=o.apply(t,e||[])).next())}));var t,e,n,o}render(){var t;if(this.shadowRoot){this.shadowRoot.innerHTML="",this.shadowRoot.innerHTML+="\n                <product-form></product-form>\n            ";const e=this.ownerDocument.createElement("section");e.classList.add("products-container");const n=this.ownerDocument.createElement("section");n.classList.add("products"),null===(t=i.products)||void 0===t||t.forEach((t=>{const e=this.ownerDocument.createElement("product-item");e.setAttribute(c.image,t.image),e.setAttribute(c.name,t.name),e.setAttribute(c.description,t.description),e.setAttribute(c.category,t.category),e.setAttribute(c.price,String(t.price)),console.log(e),n.appendChild(e)})),e.appendChild(n),this.shadowRoot.appendChild(e)}}}customElements.define("app-container",u)})();